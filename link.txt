https://teams.microsoft.com/l/meetup-join/19%3ameeting_MWY1NzYzYzgtMzYxZi00MjQwLWJhZGYtNTRjYWY5MGZjZWQw%40thread.v2/0?context=%7b%22Tid%22%3a%22d344fc8a-8286-4945-9a21-49aed506d485%22%2c%22Oid%22%3a%2217c1fdb7-2d90-4b93-8670-57424f16cf0d%22%7d


import requests
import json

# Replace these values with your own OAuth2 client credentials
client_id = 'your-client-id'
client_secret = 'your-client-secret'

# The endpoint for obtaining an access token
token_url = 'https://your-oauth2-server.com/oauth2/token'

# The headers and data needed to send in the POST request for the access token
headers = {
    'Content-Type': 'application/x-www-form-urlencoded'
}
data = {
    'grant_type': 'client_credentials',
    'client_id': client_id,
    'client_secret': client_secret
}

# Obtain an access token by sending a POST request to the token URL
response = requests.post(token_url, headers=headers, data=data)

# Check if the response was successful (status code 200), otherwise raise an exception
response.raise_for_status()

# Extract the access token from the response JSON
access_token = response.json().get('access_token')

# Use the access token to make an API request
api_url = 'https://your-api-server.com/api/resource'
api_headers = {'Authorization': f'Bearer {access_token}'}
api_response = requests.get(api_url, headers=api_headers)

# Print out the response from the API request
print(api_response.content)
